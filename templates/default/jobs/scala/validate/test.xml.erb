<?xml version='1.0' encoding='UTF-8'?>
<project>
<%= githubProject(
  repoUser:    @user,
  repoName:    "scala",
  repoRef:     @branch,
  description: "PR validation: test suite",
  nodeRestriction: "public",
  params: [
    {:name => "scalaVersion", :desc => "Version of Scala to test. Set by main build flow."},
    {:name => "testExtraArgs", :desc => "TODO"},
    {:name => "testTarget", :desc => "TODO"},
    {:name => "_scabot_pr", :desc => "For internal use by Scabot."}
  ],
  jvmVersion: @branch == "2.11.x" ? 6 : 8,
  jvmFlavor:  "oracle",
  buildNameScript: setValidateBuildNameScript)
%>
  <publishers>
    <hudson.tasks.ArtifactArchiver>
      <artifacts>build/junit/TEST-*,build/osgi/TEST-*</artifacts>
      <allowEmptyArchive>true</allowEmptyArchive>
      <onlyIfSuccessful>false</onlyIfSuccessful>
      <fingerprint>false</fingerprint>
      <defaultExcludes>true</defaultExcludes>
    </hudson.tasks.ArtifactArchiver>
  </publishers>
</project>